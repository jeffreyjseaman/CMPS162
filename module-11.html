<!doctype html>
<html>
<head>
<meta charset="utf-8">
<title>Module 11</title>
<script>
var plan1 = {
  name: "Basic",
  price: 3.99,
  space: 100,
  transfer: 1000,
  pages: 10,
  discountMonths: [6, 7],
  calcAnnual: function(percentIfDisc) {
    var bestPrice = this.price;
    var currDate = new Date();
    var theMo = currDate.getMonth();
    for (var i = 0; i < this.discountMonths.length; i++) {
      if (this.discountMonths[i] === theMo) {
        bestPrice = this.price * percentIfDisc;
        break;
      }
    }
    return bestPrice * 12;
  },
  toString: function() {
    return "This is the " + this.name + " plan and costs " +
           this.price + " dollars. It comes with " + this.space +
           "GB of space and " + this.transfer + "GB of transfer. " +
           "Discount months are " + this.discountMonths + ".";
  }
};
//var annualPrice = plan1.calcAnnual(0.85);
//alert(plan1.toString());

function Plan(name, price, space, transfer, pages, discountMonths) {
  this.name = name;
  this.price = price;
  this.space = space;
  this.transfer = transfer;
  this.pages = pages;
  this.discountMonths = discountMonths;
  /*
  this.calcAnnual = function(percentIfDisc) {
    var bestPrice = this.price;
    var currDate = new Date();
    var theMo = currDate.getMonth();
    for (var i = 0; i < this.discountMonths.length; i++) {
      if (this.discountMonths[i] === theMo) {
        bestPrice = this.price * percentIfDisc;
        break;
      }
    }
    return bestPrice * 12;
  };
  */
}

Plan.prototype.calcAnnual = function(percentIfDisc) {
  var bestPrice = this.price;
  var currDate = new Date();
  var theMo = currDate.getMonth();
  for (var i = 0; i < this.discountMonths.length; i++) {
    if (this.discountMonths[i] === theMo) {
      bestPrice = this.price * percentIfDisc;
      break;
    }
  }
  return bestPrice * 12;
};

Plan.prototype.cancellable = true;

var plan1 = new Plan("Basic", 3.99, 100, 1000, 10, [6, 7]);
var plan2 = new Plan("Premium", 5.99, 500, 5000, 50, [6, 7, 11]);
var plan3 = new Plan("Ultimate", 9.99, 2000, 20000, 500, [6, 7]);
//alert("Plan 1: " + plan1.calcAnnual(0.8) + " " +
//      "Plan 2: " + plan2.calcAnnual(0.8) + " " +
//      "Plan 3: " + plan3.calcAnnual(0.8));

//plan1.cancellable = false;
//alert(plan1.cancellable + " " + plan2.cancellable);
//alert("price" in plan1);

var listOfProperties = [];
for (var prop in plan1) {
  if (plan1.hasOwnProperty(prop)) {
    listOfProperties.push(prop);
  }
}
//alert(listOfProperties);



// Model students using objects.
// Define a constructor.
// Properties: name, gpa, number of courses.
// Method: return the number of credits taken.
// Create 5 students and put them in an array.
// Calculate the average gpa of all students.

// define constructor for Student
function Student(name, gpa, numberOfCourses) {
  this.name = name;
  this.gpa = gpa;
  this.numberOfCourses = numberOfCourses;
}

// add getCredits method to prototype
Student.prototype.getCredits = function() {
  // multiply by 3 because each course is 3 credits
  return 3 * this.numberOfCourses;
};

// create students array and add 5 students
var students = [];
students.push(new Student("Student 1", 3.6, 12));
students.push(new Student("Student 2", 2.9, 8));
students.push(new Student("Student 3", 3.4, 15));
students.push(new Student("Student 4", 3.9, 22));
students.push(new Student("Student 5", 3.7, 3));

// iterate through students array and sum
var sum = 0;
for (var i = 0; i < students.length; i++) {
  sum += students[i].gpa;
}
// divide by number of students to obtain average
var avg = sum / students.length;
alert(avg);



</script>
<body>
  Module 11
</body>
</html>
